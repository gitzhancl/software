<div ng-controller="GroupEditCtrl" class="cms-pageList" xmlns="http://www.w3.org/1999/html">
    <ol class="breadcrumb">
        <li><a ng-href="">{{menuConfig.group.name}}</a></li>
        <li><a ng-href="{{menuConfig.group.sub[1].link}}">{{menuConfig.group.sub[1].name}}</a></li>
        <li class="active">修改团</li>
    </ol>


    <!-- 2、确认活动规则 -->
    <div id="confirmRule" class="clearfix cms-workarea">
        <form class="form-horizontal" name="groupForm">

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>团购类型</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <select class="form-control input-sm" ng-model="group.type" ng-options="gt.value as gt.key for gt in groupType" ng-disabled="true"></select>
                </div>
            </div>


            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>吃货团活动名称</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" id="group.name" ng-model="group.name" placeholder="请输入名称" size="40" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">限制40字以内（中文，字母，数字）</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>PC前端显示名称</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" id="group.pcTitle" ng-model="group.pcTitle" placeholder="请输入名称" size="40" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">限制40字以内（中文，字母，数字）</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>H5端显示名称</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" id="group.mobileTitle" ng-model="group.mobileTitle" placeholder="请输入名称" size="25" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">限制25字以内（中文，字母，数字）</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>PC前端副标题</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" id="group.pcSubTitle" ng-model="group.pcSubTitle" placeholder="请输入名称" size="40" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">限制40字以内（中文，字母，数字）</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>H5前端副标题</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" id="group.mobileSubTitle" ng-model="group.mobileSubTitle" placeholder="请输入名称" size="25" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">限制25字以内（中文，字母，数字）</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>需求部门</label>
                </div>
                <div class="col-sm-2"  style="text-align: left">
                    <select class="form-control input-sm" ng-model="group.departmentId" ng-options="type.value as type.key for type in deptType" required></select>
                </div>
                <div class="col-sm-1 cms-workarea1"  style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>需求发起人</label>
                </div>
                <div class="col-sm-2"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.demandPerson"  placeholder="请输入需求发起人" size="40" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">请如实填写员工姓名</label>
                </div>
            </div>


            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label">团长减免券</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.couponCode" placeholder="团长减免券" name="团长减免券" ng-change="getTimeInfo()"  ng-disabled="group.publishStatus==2" >
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning"><span style="color: red">警告！千万注意！</span><br/> 1、商品团购价格要大于优惠券减少金额！</label>
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>活动时间</label>
                </div>
                <div class="col-sm-2">
                    <div class="input-group date" ulife-tooltip="开始时间" ulife-datetimepicker>
                        <input type="text" class="form-control input-sm" placeholder="开始时间" ng-model="group.startTime" ulife-date-format ng-disabled="group.publishStatus==2 ||group.couponCode!=''"   required>
                        <span class="input-group-btn add-on">
                            <button class="btn btn-default btn-sm icon-th" type="button">
                                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col-sm-1">
                </div>
                <!--至-->
                <div class="col-sm-2">
                    <div class="input-group date" ulife-tooltip="开始时间" ulife-datetimepicker>
                        <input type="text" class="form-control input-sm" placeholder="开始时间" ng-model="group.endTime" ulife-date-format ng-disabled="group.publishStatus==2 ||group.couponCode!=''" required>
                        <span class="input-group-btn add-on">
                            <button class="btn btn-default btn-sm icon-th" type="button">
                                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                </div>

                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning"><span style="color: red">警告！千万注意！</span><br/> 2、优惠券和团购时间同步！不可修改！</label>
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>列表显示时间</label>
                </div>
                <div class="col-sm-2">
                    <div class="input-group date" ulife-tooltip="开始时间" ulife-datetimepicker>
                        <input type="text" class="form-control input-sm" placeholder="开始时间" ng-model="group.viewStartTime" ulife-date-format   ng-disabled="group.couponCode!=''" required>
                        <span class="input-group-btn add-on">
                            <button class="btn btn-default btn-sm icon-th" type="button">
                                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col-sm-1">
                </div>
                <!--至-->
                <div class="col-sm-2">
                    <div class="input-group date" ulife-tooltip="开始时间" ulife-datetimepicker>
                        <input type="text" class="form-control input-sm" placeholder="开始时间" ng-model="group.viewEndTime" ulife-date-format  ng-disabled="group.couponCode!=''" required>
                        <span class="input-group-btn add-on">
                            <button class="btn btn-default btn-sm icon-th" type="button">
                                <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                </div>
            </div>


            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>商品itemId</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.itemId" placeholder="itemId" ng-disabled="group.publishStatus==2" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>


            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>分享图片</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.shareImages" placeholder="分享图片" name="分享图片" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                    <label class="text-warning">图片需使用160尺寸</label>
                </div>
            </div>
            
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                </div>
                <div class="col-sm-8"  style="text-align: left">
                例：http://i1.ucaiyuan.com/ugoods/216200000124/216200000124_<span style="color:red">750</span>.jpg  请将750替换成160 <br />
    http://i1.ucaiyuan.com/ugoods/216200000124/216200000124_<span style="color:red">160</span>.jpg  复制连接到浏览器打开可以看到图片即完成。 <br />
    如果看不到图片，请配置该商品的160主图。
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>团购价格</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.price" placeholder="团购价格" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>每团人数</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.perGroupLimit" placeholder="每团人数" name="每团人数" ng-disabled="group.publishStatus==2" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>限购数量</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.stockLimit" placeholder="限购数量" name="限购数量" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>pc列表图片URL</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.pcPreviewUrl" placeholder="pc列表图片URL" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label"><span style="color: red"> * </span>h5列表图片URL</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.mobilePreviewUrl" placeholder="h5列表图片URL" required>
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>

            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label">sort</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.sort" placeholder="sort">
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>
            <div class="row show-grid cms-workarea1">
                <div class="col-sm-1 cms-workarea1" style="text-align: right">
                    <label class="control-label">备注说明</label>
                </div>
                <div class="col-sm-5"  style="text-align: left">
                    <input type="text" class="form-control input-sm" ng-model="group.remarks" placeholder="备注说明">
                </div>
                <div class="col-sm-3 cms-workarea1">
                </div>
            </div>

        </form>

        <div class=" clearfix cms-workarea1 form-inline text-center">
            <button title="保存"  ng-click="btns.save()" class="btn btn-primary" >
                <span>保存</span>
            </button>
            <button title="发布" ng-click="btns.publish()" class="btn btn-primary" ng-show="group.publishStatus==-1" >
                <span>发布</span>
            </button>
            <button title="取消" ng-click="btns.cancel()" class="btn btn-primary" ng-show="group.publishStatus==2"  >
                <span>取消</span>
            </button>
        </div>
    </div>
</div>
